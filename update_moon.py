import json
from pathlib import Path

TEXTS_FILE = Path("texts.json")

moon_texts = {
    "Ari": "Луна в Овне наделяет человека быстрыми, импульсивными реакциями. Вы выражаете чувства открыто, страстно и иногда агрессивно. Комфорт для вас — это действие, движение и победа. Вы быстро вспыхиваете, но так же быстро отходите. В быту вы нетерпеливы, любите, чтобы всё было по-вашему. Ваша мама могла восприниматься как активная, сильная или доминирующая фигура. Эмоциональная безопасность достигается через самостоятельность и независимость.",
    "Tau": "Луна в Тельце — это положение экзальтации, одно из самых гармоничных. Оно дарует устойчивую психику, любовь к комфорту, вкусной еде и красивым вещам. Вы эмоционально стабильны, не любите перемен и спешки. Вам важно чувствовать материальную почву под ногами. В отношениях вы верны, заботливы и тактильны. Стресс снимаете через отдых на природе, шопинг или гастрономические удовольствия.",
    "Gem": "Луна в Близнецах дает потребность в постоянном общении и смене впечатлений. Вы не любите глубоко погружаться в переживания, предпочитая проговаривать их или анализировать. Эмоциональный комфорт для вас — это интересная книга, разговор с другом или поездка. Вы легко адаптируетесь к переменам, но можете быть поверхностны и непостоянны в чувствах. Рутина вас угнетает.",
    "Cnc": "Луна в Раке находится в своей обители. Это дает невероятную чувствительность, интуицию и эмпатию. Вы очень привязаны к дому, семье и маме. Мир воспринимается через призму безопасности и доверия. Вы ранимы, обидчивы, но очень заботливы по отношению к близким. Вам жизненно необходимо иметь свое убежище, где можно спрятаться от внешнего мира. Настроение переменчиво, как фазы Луны.",
    "Leo": "Луна во Льве превращает эмоции в театральное представление. Вам важно, чтобы ваши чувства замечали и ценили. Вы любите праздники, подарки и внимание. Дома стремитесь быть центром вселенной. Мама могла восприниматься как королева или яркая личность. В душе вы — большой ребенок, которому нужно восхищение и похвала. Вы благородны, щедры, но можете быть эгоцентричны.",
    "Vir": "Луна в Деве дает потребность в порядке и ясности. Хаос вызывает у вас тревогу. Вы выражаете заботу через конкретную помощь, наведение чистоты или заботу о здоровье. Эмоции подвергаются анализу, что может мешать расслабиться. Вы можете быть критичны к себе и домашним. Душевный покой приходит, когда все дела сделаны, а вокруг идеальный порядок.",
    "Lib": "Луна в Весах стремится к гармонии и партнерству. Вам плохо в одиночестве, нужен кто-то рядом для эмоционального равновесия. Вы избегаете конфликтов, сглаживаете острые углы и цените эстетику в быту. Грубость и вульгарность вас глубоко ранят. В отношениях вы дипломатичны, но можете быть нерешительны, перекладывая ответственность за эмоциональные решения на партнера.",
    "Sco": "Луна в Скорпионе — положение падения. Это дает интенсивную, бурлящую эмоциональную жизнь. Вы подозрительны, ревнивы, но невероятно проницательны. Чувствуете ложь за версту. Эмоциональный комфорт достигается через кризисы, трансформации и глубокие, порой болезненные переживания. Вы собственник, но если любите — то до конца. Вам нужно учиться отпускать и доверять.",
    "Sag": "Луна в Стрельце дает оптимизм и потребность в свободе. Вы не любите, когда вас ограничивают бытом или обязательствами. Ваш дом — весь мир. Вы философски относитесь к проблемам, щедры и добродушны. Эмоциональная подпитка приходит через путешествия, обучение или наставничество. Вы можете быть бестактны, но не со зла. Вам важно иметь высокую цель или идею.",
    "Cap": "Луна в Козероге — положение изгнания. Эмоции здесь сдержанны, заморожены или подчинены долгу. Вы не привыкли жалеть себя и других. Ответственность и карьера могут заменять душевную близость. Вы надежны, терпеливы, но можете казаться сухим и холодным. Безопасность для вас — это социальный статус, недвижимость и счет в банке. Вам трудно расслабиться.",
    "Aqu": "Луна в Водолее дает потребность в свободе и независимости даже в кругу семьи. Вы дружите со своими детьми и родителями, но держите дистанцию. Эмоции могут быть непредсказуемыми. Вы цените интеллектуальное общение больше душевных излияний. Быт должен быть автоматизирован. Вы толерантны, оригинальны, но можете казаться отстраненным и холодным для тех, кто ждет традиционной заботы.",
    "Pis": "Луна в Рыбах наделяет тончайшей интуицией и чувствительностью. Вы впитываете чужие эмоции как губка. Грань между реальностью и фантазией размыта. Вы сострадательны, милосердны, но можете быть жертвенны или склонны к самообману. Вам нужно много времени проводить в уединении, у воды или занимаясь творчеством, чтобы восстановить душевное равновесие."
}

def update_moon_texts():
    if not TEXTS_FILE.exists():
        print("Файл texts.json не найден!")
        return

    with open(TEXTS_FILE, "r", encoding="utf-8") as f:
        data = json.load(f)

    # Обновляем тексты Луны
    if "Moon" not in data["signs"]:
        data["signs"]["Moon"] = {}
    
    for sign, text in moon_texts.items():
        data["signs"]["Moon"][sign] = text
        print(f"✅ Обновлено: Луна в {sign}")

    with open(TEXTS_FILE, "w", encoding="utf-8") as f:
        json.dump(data, f, ensure_ascii=False, indent=2)
    
    print("Сохранение завершено.")

if __name__ == "__main__":
    update_moon_texts()

