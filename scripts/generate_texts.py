#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –º–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–∏—Å–∞–Ω–∏–π –¥–ª—è –Ω–∞—Ç–∞–ª—å–Ω–æ–π –∫–∞—Ä—Ç—ã"""

import json
import sys
from datetime import datetime

# –î–∞–Ω–Ω—ã–µ –ø–ª–∞–Ω–µ—Ç
PLANETS = {
    'Sun': {'ru': '–°–æ–ª–Ω—Ü–µ', 'icon': '‚òâ', 'obitel': ['Leo'], 'exalt': ['Ari'], 'detrim': ['Aqu'], 'fall': ['Lib']},
    'Moon': {'ru': '–õ—É–Ω–∞', 'icon': '‚òæ', 'obitel': ['Cnc'], 'exalt': ['Tau'], 'detrim': ['Cap'], 'fall': ['Sco']},
    'Mercury': {'ru': '–ú–µ—Ä–∫—É—Ä–∏–π', 'icon': '‚òø', 'obitel': ['Gem', 'Vir'], 'exalt': ['Vir'], 'detrim': ['Sag', 'Pis'], 'fall': ['Pis']},
    'Venus': {'ru': '–í–µ–Ω–µ—Ä–∞', 'icon': '‚ôÄ', 'obitel': ['Tau', 'Lib'], 'exalt': ['Pis'], 'detrim': ['Sco', 'Ari'], 'fall': ['Vir']},
    'Mars': {'ru': '–ú–∞—Ä—Å', 'icon': '‚ôÇ', 'obitel': ['Ari', 'Sco'], 'exalt': ['Cap'], 'detrim': ['Lib', 'Tau'], 'fall': ['Cnc']},
    'Jupiter': {'ru': '–Æ–ø–∏—Ç–µ—Ä', 'icon': '‚ôÉ', 'obitel': ['Sag', 'Pis'], 'exalt': ['Cnc'], 'detrim': ['Gem', 'Vir'], 'fall': ['Cap']},
    'Saturn': {'ru': '–°–∞—Ç—É—Ä–Ω', 'icon': '‚ôÑ', 'obitel': ['Cap', 'Aqu'], 'exalt': ['Lib'], 'detrim': ['Cnc', 'Leo'], 'fall': ['Ari']},
    'Uranus': {'ru': '–£—Ä–∞–Ω', 'icon': '‚ôÖ', 'obitel': ['Aqu'], 'exalt': ['Sco'], 'detrim': ['Leo'], 'fall': ['Tau']},
    'Neptune': {'ru': '–ù–µ–ø—Ç—É–Ω', 'icon': '‚ôÜ', 'obitel': ['Pis'], 'exalt': ['Leo'], 'detrim': ['Vir'], 'fall': ['Aqu']},
    'Pluto': {'ru': '–ü–ª—É—Ç–æ–Ω', 'icon': '‚ôá', 'obitel': ['Sco'], 'exalt': ['Ari'], 'detrim': ['Tau'], 'fall': ['Lib']},
    'Lilith': {'ru': '–õ–∏–ª–∏—Ç', 'icon': '‚ö∏', 'obitel': [], 'exalt': [], 'detrim': [], 'fall': []},
    'North_node': {'ru': '–°–µ–≤. —É–∑–µ–ª', 'icon': '‚òä', 'obitel': [], 'exalt': [], 'detrim': [], 'fall': []},
    'South_node': {'ru': '–Æ–∂. —É–∑–µ–ª', 'icon': '‚òã', 'obitel': [], 'exalt': [], 'detrim': [], 'fall': []},
}

SIGNS = {
    'Ari': {'ru': '–û–≤–µ–Ω', 'icon': '‚ôà', 'element': '–æ–≥–æ–Ω—å', 'mode': '–∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω—ã–π'},
    'Tau': {'ru': '–¢–µ–ª–µ—Ü', 'icon': '‚ôâ', 'element': '–∑–µ–º–ª—è', 'mode': '—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π'},
    'Gem': {'ru': '–ë–ª–∏–∑–Ω–µ—Ü—ã', 'icon': '‚ôä', 'element': '–≤–æ–∑–¥—É—Ö', 'mode': '–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π'},
    'Cnc': {'ru': '–†–∞–∫', 'icon': '‚ôã', 'element': '–≤–æ–¥–∞', 'mode': '–∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω—ã–π'},
    'Leo': {'ru': '–õ–µ–≤', 'icon': '‚ôå', 'element': '–æ–≥–æ–Ω—å', 'mode': '—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π'},
    'Vir': {'ru': '–î–µ–≤–∞', 'icon': '‚ôç', 'element': '–∑–µ–º–ª—è', 'mode': '–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π'},
    'Lib': {'ru': '–í–µ—Å—ã', 'icon': '‚ôé', 'element': '–≤–æ–∑–¥—É—Ö', 'mode': '–∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω—ã–π'},
    'Sco': {'ru': '–°–∫–æ—Ä–ø–∏–æ–Ω', 'icon': '‚ôè', 'element': '–≤–æ–¥–∞', 'mode': '—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π'},
    'Sag': {'ru': '–°—Ç—Ä–µ–ª–µ—Ü', 'icon': '‚ôê', 'element': '–æ–≥–æ–Ω—å', 'mode': '–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π'},
    'Cap': {'ru': '–ö–æ–∑–µ—Ä–æ–≥', 'icon': '‚ôë', 'element': '–∑–µ–º–ª—è', 'mode': '–∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω—ã–π'},
    'Aqu': {'ru': '–í–æ–¥–æ–ª–µ–π', 'icon': '‚ôí', 'element': '–≤–æ–∑–¥—É—Ö', 'mode': '—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π'},
    'Pis': {'ru': '–†—ã–±—ã', 'icon': '‚ôì', 'element': '–≤–æ–¥–∞', 'mode': '–º—É—Ç–∞–±–µ–ª—å–Ω—ã–π'},
}

# –ë–∞–∑–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–π –ø–ª–∞–Ω–µ—Ç—ã
TEMPLATES = {
    'Sun': "–°–æ–ª–Ω—Ü–µ –≤ {sign} {dignity}–ø—Ä–æ–±—É–∂–¥–∞–µ—Ç –≤–∞—à—É –∏—Å—Ç–∏–Ω–Ω—É—é —Å—É—â–Ω–æ—Å—Ç—å, —è–¥—Ä–æ –ª–∏—á–Ω–æ—Å—Ç–∏ –∏ –≤–æ–ª–∏. –ó–¥–µ—Å—å —Ç–≤–æ—Ä—á–µ—Å–∫–∏–π –æ–≥–æ–Ω—å –∑–æ–¥–∏–∞–∫–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–µ —Å–≤–µ—Ç–∏–ª–æ –∫–æ—Å–º–æ—Å–∞. –í—ã —É—á–∏—Ç–µ—Å—å —É–∑–Ω–∞–≤–∞—Ç—å —Å–µ–±—è —á–µ—Ä–µ–∑ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è, —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º —Å–≤–µ—Ç–∞ –¥–ª—è –¥—Ä—É–≥–∏—Ö. –ñ–∏–∑–Ω–µ–Ω–Ω–∞—è –º–∏—Å—Å–∏—è ‚Äî –ø—Ä–æ—è–≤–∏—Ç—å —Å–≤–æ–π —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª, –Ω–µ —Ç–µ—Ä—è—è —Å–∫—Ä–æ–º–Ω–æ—Å—Ç–∏. –°–æ–ª–Ω—Ü–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –≤—ã —Å–≤–µ—Ç–∏—Ç–µ –º–∏—Ä—É: –≤–∞—à —Å—Ç–∏–ª—å, –≤–∞—à—É –ø–æ–¥–ø–∏—Å—å, –≤–∞—à—É —Å–∏–ª—É. –≠—Ç–æ –ø—É—Ç—å –æ—Ç —ç–≥–æ –∫ –≤–µ–ª–∏—á–∏—é —Å–ª—É–∂–µ–Ω–∏—è.",

    'Moon': "–õ—É–Ω–∞ –≤ {sign} {dignity}–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤—Ä–∞—Ç–∞ –∫ –≤–∞—à–µ–º—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º—É –º–æ—Ä—é ‚Äî –º–∏—Ä—É —ç–º–æ—Ü–∏–π, –ø–∞–º—è—Ç–∏, –∏–Ω—Å—Ç–∏–Ω–∫—Ç–æ–≤. –ó–¥–µ—Å—å –≤—ã —á—É–≤—Å—Ç–≤—É–µ—Ç–µ –≥–ª—É–±–∂–µ, –∏–Ω—Ç—É–∏—Ä—É–µ—Ç–µ –≤–µ—Ä–Ω–µ–π, –∂–∏–≤—ë—Ç–µ —Ü–∏–∫–ª–∞–º–∏ –ø—Ä–∏—Ä–æ–¥—ã. –õ—É–Ω–∞ —É—á–∏—Ç –≤–∞—Å –±—ã—Ç—å –≤ –≥–∞—Ä–º–æ–Ω–∏–∏ —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —Ä–∏—Ç–º–∞–º–∏, —É–≤–∞–∂–∞—Ç—å —á—É–≤—Å—Ç–≤–∞ –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –º—É–¥—Ä–æ—Å—Ç–∏. –í–∞—à–∞ –¥—É—à–µ–≤–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Äî –≤ —É–º–µ–Ω–∏–∏ —Å–ª—É—à–∞—Ç—å —Å–µ—Ä–¥—Ü–µ –∏ —Å–ª–µ–¥–æ–≤–∞—Ç—å –µ–≥–æ –ø–æ–¥—Å–∫–∞–∑–∫–∞–º. –≠—Ç–æ –ø—É—Ç—å –æ—Ç —Å—Ç—Ä–∞—Ö–∞ –∫ –¥–æ–≤–µ—Ä–∏—é, –æ—Ç –∏–∑–æ–ª—è—Ü–∏–∏ –∫ –ø–æ–¥–ª–∏–Ω–Ω–æ–π –±–ª–∏–∑–æ—Å—Ç–∏.",

    'Mercury': "–ú–µ—Ä–∫—É—Ä–∏–π –≤ {sign} {dignity}–æ–∂–∏–≤–ª—è–µ—Ç –≤–∞—à —Ä–∞–∑—É–º, —Ä–µ—á—å, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –æ–±—â–∞—Ç—å—Å—è –∏ –æ–±–º–µ–Ω–∏–≤–∞—Ç—å—Å—è –∏–¥–µ—è–º–∏. –ó–¥–µ—Å—å –≤—ã ‚Äî –ø–æ—Å–ª–∞–Ω–Ω–∏–∫ –º–µ–∂–¥—É –º–∏—Ä–∞–º–∏, –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫ —è–∑—ã–∫–æ–≤, –ø—Ä–æ–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. –ú–µ—Ä–∫—É—Ä–∏–π —É—á–∏—Ç –≤–∞—Å –º–æ—â–∏ —Å–ª–æ–≤–∞: –æ–Ω–æ —Å–æ–∑–∏–¥–∞–µ—Ç –∏–ª–∏ —Ä–∞–∑—Ä—É—à–∞–µ—Ç, –∏—Å—Ü–µ–ª—è–µ—Ç –∏–ª–∏ —Ä–∞–Ω–∏—Ç. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –≥–æ–≤–æ—Ä–∏—Ç—å –∏—Å—Ç–∏–Ω—É —Å –¥–æ–±—Ä–æ—Ç–æ–π, —Å–ª—É—à–∞—Ç—å —Å –æ—Ç–∫—Ä—ã—Ç—ã–º —É–º–æ–º. –≠—Ç–æ –ø—É—Ç—å –æ—Ç –±–æ–ª—Ç–æ–≤–Ω–∏ –∫ –º—É–¥—Ä–æ—Å—Ç–∏ —Ä–µ—á–∏, –æ—Ç –º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø–µ—Ç–µ–ª—å –∫ —è—Å–Ω–æ—Å—Ç–∏.",

    'Venus': "–í–µ–Ω–µ—Ä–∞ –≤ {sign} {dignity}—Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ª—é–±–∏—Ç—å, –ø—Ä–∏–≤–ª–µ–∫–∞—Ç—å, —Ç–≤–æ—Ä–∏—Ç—å –∫—Ä–∞—Å–æ—Ç—É. –ó–¥–µ—Å—å –≤—ã –≤—Å—Ç—Ä–µ—á–∞–µ—Ç–µ—Å—å —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π —Ü–µ–Ω–Ω–æ—Å—Ç—å—é –∏ –∑–Ω–∞—á–∏–º–æ—Å—Ç—å—é –≤ –º–∏—Ä–µ. –í–µ–Ω–µ—Ä–∞ —É—á–∏—Ç —Ä–∞–∑–ª–∏—á–∞—Ç—å –∏—Å—Ç–∏–Ω–Ω—É—é –ª—é–±–æ–≤—å –æ—Ç –∂–µ–ª–∞–Ω–∏—è, –≤–µ—á–Ω–æ–µ –æ—Ç –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ, –∫—Ä–∞—Å–æ—Ç—É –¥—É—Ö–∞ –æ—Ç –∫—Ä–∞—Å–æ—Ç—ã —Ñ–æ—Ä–º—ã. –í–∞—à–∞ –º–∏—Å—Å–∏—è ‚Äî –∏–∑–ª—É—á–∞—Ç—å –≥–∞—Ä–º–æ–Ω–∏—é, –±—ã—Ç—å –º–∞–≥–Ω–∏—Ç–æ–º –¥–æ–±—Ä–∞, —Å–ª—É–∂–∏—Ç—å –∫—Ä–∞—Å–æ—Ç–µ –≤—ã—Å—à–µ–≥–æ –ø–æ—Ä—è–¥–∫–∞. –≠—Ç–æ –ø—É—Ç—å –æ—Ç –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –∫ –±–µ–∑—É—Å–ª–æ–≤–Ω–æ–π –ª—é–±–≤–∏.",

    'Mars': "–ú–∞—Ä—Å –≤ {sign} {dignity}–∑–∞–∂–∏–≥–∞–µ—Ç –±–æ–µ–≤–æ–π –¥—É—Ö, –≤–æ–ª—é –∫ –¥–µ–π—Å—Ç–≤–∏—é, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–µ–æ–¥–æ–ª–µ–≤–∞—Ç—å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è. –ó–¥–µ—Å—å –≤—ã —É—á–∏—Ç–µ—Å—å –º—É–∂–µ—Å—Ç–≤—É, —Ä–µ—à–∏–º–æ—Å—Ç–∏, –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–π –∞–≥—Ä–µ—Å—Å–∏–∏. –ú–∞—Ä—Å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏–ª—É –≤–æ –±–ª–∞–≥–æ. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –±—ã—Ç—å –≤–æ–∏–Ω–æ–º —Å–≤–µ—Ç–∞, –Ω–µ —Ç–µ—Ä—è—è —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏—è, –ø–æ–±–µ–∂–¥–∞—Ç—å –≤—Ä–∞–≥–æ–≤, –Ω–µ —Å—Ç–∞–Ω–æ–≤—è—Å—å –≤—Ä–∞–≥–æ–º. –≠—Ç–æ –ø—É—Ç—å –æ—Ç —Å–ª–µ–ø–æ–π —è—Ä–æ—Å—Ç–∏ –∫ —Å–ª—É–∂–µ–Ω–∏—é –≤—ã—Å—à–µ–º—É –±–ª–∞–≥—É.",

    'Jupiter': "–Æ–ø–∏—Ç–µ—Ä –≤ {sign} {dignity}–Ω–µ—Å—ë—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ, —Ä–æ—Å—Ç, –≤–µ—Ä—É –≤ –ª—É—á—à–µ–µ –±—É–¥—É—â–µ–µ. –ó–¥–µ—Å—å –≤—ã –≤–∏–¥–∏—Ç–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, —â–µ–¥—Ä–æ —Ä–∞–∑–¥–∞—ë—Ç–µ –¥–∞—Ä—ã, –≤–µ—Ä–∏—Ç–µ –≤ —Å–º—ã—Å–ª –∂–∏–∑–Ω–∏. –Æ–ø–∏—Ç–µ—Ä —É—á–∏—Ç –≤–∞—Å –∏—Å—Ç–∏–Ω–Ω–æ–º—É –±–æ–≥–∞—Ç—Å—Ç–≤—É ‚Äî –Ω–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—é, –∞ —â–µ–¥—Ä–æ—Å—Ç–∏, –Ω–µ —ç–≥–æ–∏–∑–º—É, –∞ –≤–µ–ª–∏–∫–æ–¥—É—à–∏—é. –í–∞—à–∞ –º–∏—Å—Å–∏—è ‚Äî –±—ã—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏—è, –ø–æ–º–æ–≥–∞—Ç—å –¥—Ä—É–≥–∏–º —Ä–∞—Å—Ç–∏ –∏ —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è. –≠—Ç–æ –ø—É—Ç—å –æ—Ç –∂–∞–¥–Ω–æ—Å—Ç–∏ –∫ –±–ª–∞–≥–æ–¥–∞—Ç–∏.",

    'Saturn': "–°–∞—Ç—É—Ä–Ω –≤ {sign} {dignity}—É—á–∏—Ç –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–µ, –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, —É–≤–∞–∂–µ–Ω–∏—é –∫ –≤—Ä–µ–º–µ–Ω–∏ –∏ —Å—É–¥—å–±–µ. –ó–¥–µ—Å—å –≤—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç–µ —Å—É—Ä–æ–≤—ã–µ —à–∫–æ–ª—ã –∂–∏–∑–Ω–∏, —á—Ç–æ–±—ã –æ–±—Ä–µ—Å—Ç–∏ –º—É–¥—Ä–æ—Å—Ç—å. –°–∞—Ç—É—Ä–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –≥–¥–µ –≤—ã –¥–æ–ª–∂–Ω—ã –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ—á–Ω—ã–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã, –±—ã—Ç—å –Ω–∞–¥–µ–∂–Ω–æ–π –æ–ø–æ—Ä–æ–π. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî —É—á–∏—Ç—å—Å—è —Ç–µ—Ä–ø–µ–Ω–∏—é, –Ω–µ —Å–¥–∞–≤–∞—Ç—å—Å—è –ø–µ—Ä–µ–¥ —Ç—Ä—É–¥–Ω–æ—Å—Ç—è–º–∏. –≠—Ç–æ –ø—É—Ç—å –æ—Ç —Å—Ç—Ä–∞—Ö–∞ –∫ –¥–æ–≤–µ—Ä–∏—é –ø—Ä–æ—Ü–µ—Å—Å—É.",

    'Uranus': "–£—Ä–∞–Ω –≤ {sign} {dignity}–≤–∑—Ä—ã–≤–∞–µ—Ç –≥—Ä–∞–Ω–∏—Ü—ã –≤–∞—à–µ–≥–æ —Å–æ–∑–Ω–∞–Ω–∏—è, –∑–æ–≤—ë—Ç –∫ –ø–µ—Ä–µ–º–µ–Ω–∞–º –∏ –∏–Ω–Ω–æ–≤–∞—Ü–∏—è–º. –ó–¥–µ—Å—å –≤—ã –≤–∏–¥–∏—Ç–µ –±—É–¥—É—â–µ–µ —Ä–∞–Ω—å—à–µ –¥—Ä—É–≥–∏—Ö, —Å—Ç—Ä–µ–º–∏—Ç–µ—Å—å –∫ —Å–≤–æ–±–æ–¥–µ –∏ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏. –£—Ä–∞–Ω —É—á–∏—Ç –≤–∞—Å —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω–æ—Å—Ç–∏ ‚Äî —Ä–∞–∑—Ä—É—à–∞—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–µ–µ –¥–ª—è —Ä–æ–∂–¥–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ. –í–∞—à–∞ –º–∏—Å—Å–∏—è ‚Äî –±—ã—Ç—å –∞–≥–µ–Ω—Ç–æ–º —ç–≤–æ–ª—é—Ü–∏–∏, –Ω–æ –ø–æ–º–Ω–∏—Ç–µ: –Ω–∞—Å—Ç–æ—è—â–∞—è —Ä–µ–≤–æ–ª—é—Ü–∏—è —Å–ª—É–∂–∏—Ç —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤—É. –≠—Ç–æ –ø—É—Ç—å –æ—Ç –±—É–Ω—Ç–∞ –∫ —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–º—É —Å–æ–∑–∏–¥–∞–Ω–∏—é.",

    'Neptune': "–ù–µ–ø—Ç—É–Ω –≤ {sign} {dignity}–æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤—Ä–∞—Ç–∞ –≤ –Ω–∞–¥–º–∞—Ç–µ—Ä–∏–∞–ª—å–Ω—ã–µ –º–∏—Ä—ã, –º–∏—Å—Ç–∏–∫—É, –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ. –ó–¥–µ—Å—å –≤—ã —Å–ø–æ—Å–æ–±–Ω—ã –≤–æ–ø–ª–æ—â–∞—Ç—å –º–µ—á—Ç—ã, –ª–æ–≤–∏—Ç—å –≤–æ–ª–Ω—ã –∫–æ—Å–º–æ—Å–∞, –∏—Å—Ü–µ–ª—è—Ç—å —á–µ—Ä–µ–∑ —Å–æ—Å—Ç—Ä–∞–¥–∞–Ω–∏–µ. –ù–µ–ø—Ç—É–Ω —É—á–∏—Ç –≤–∞—Å —Ä–∞—Å—Ç–≤–æ—Ä–µ–Ω–∏—é —ç–≥–æ –≤–æ –±–ª–∞–≥–æ —Ü–µ–ª–æ–≥–æ, –≤–∏–¥–µ–Ω–∏—é —Å–∫–≤–æ–∑—å –∑–∞–≤–µ—Å—ã —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî —Å–ª—É–∂–∏—Ç—å –¥—É—Ö–æ–≤–Ω–æ–º—É –ø—Ä–æ–±—É–∂–¥–µ–Ω–∏—é, –Ω–µ —Ç–µ—Ä—è—è—Å—å –≤ –∏–ª–ª—é–∑–∏—è—Ö. –≠—Ç–æ –ø—É—Ç—å –æ—Ç –±–ª—É–∂–¥–∞–Ω–∏—è –∫ –ø—Ä–æ—Å–≤–µ—Ç–ª–µ–Ω–∏—é.",

    'Pluto': "–ü–ª—É—Ç–æ–Ω –≤ {sign} {dignity}–≤–ª–∞—Å—Ç–µ–ª–∏–Ω —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Å–º–µ—Ä—Ç–∏ –∏ –≤–æ–∑—Ä–æ–∂–¥–µ–Ω–∏—è, —Ç–∞–π–Ω–æ–π —Å–∏–ª—ã. –ó–¥–µ—Å—å –≤—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç–µ —á–µ—Ä–µ–∑ –∫—Ä–∏–∑–∏—Å—ã, —á—Ç–æ–±—ã –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –Ω–æ–≤—ã–º —á–µ–ª–æ–≤–µ–∫–æ–º, —Å –Ω–æ–≤—ã–º–∏ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—è–º–∏. –ü–ª—É—Ç–æ–Ω —É—á–∏—Ç –≤–∞—Å –∏—Å–∫—É—Å—Å—Ç–≤—É –æ—Ç–ø—É—Å–∫–∞–Ω–∏—è, –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—é –±–æ–ª–∏ –≤ —Å–∏–ª—É. –í–∞—à–∞ –º–∏—Å—Å–∏—è ‚Äî –ø–æ–º–æ–≥–∞—Ç—å —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤—É –≤ –≥–ª—É–±–æ–∫–æ–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏. –≠—Ç–æ –ø—É—Ç—å –æ—Ç —Å—Ç—Ä–∞—Ö–∞ –ø–µ—Ä–µ–º–µ–Ω –∫ —Ä–∞–¥–æ—Å—Ç–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è.",

    'Lilith': "–õ–∏–ª–∏—Ç –≤ {sign} {dignity}—Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç —Ç–µ–Ω–µ–≤—É—é, –±—É–Ω—Ç–∞—Ä—Å–∫—É—é, —Å–µ–∫—Å—É–∞–ª—å–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É –≤–∞—à–µ–π –ø—Ä–∏—Ä–æ–¥—ã. –ó–¥–µ—Å—å –≤—ã –≤—Å—Ç—Ä–µ—á–∞–µ—Ç–µ—Å—å —Å –æ—Ç–≤–µ—Ä–≥–Ω—É—Ç—ã–º–∏ —á–∞—Å—Ç—è–º–∏ —Å–µ–±—è, –¥–∏–∫–æ–π –∏ –Ω–µ—É–∫—Ä–æ—Ç–∏–º–æ–π —ç–Ω–µ—Ä–≥–∏–µ–π. –õ–∏–ª–∏—Ç —É—á–∏—Ç –≤–∞—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ç–µ–Ω–∏, –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—é –µ—ë –≤ —Å–∏–ª—É –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî –ø—Ä–∏–Ω—è—Ç—å –≤—Å—é —Å–µ–±—è, –Ω–µ –ø–æ–¥—á–∏–Ω—è—è—Å—å –Ω–∏ –æ–±—â–µ—Å—Ç–≤—É, –Ω–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º —Å—Ç—Ä–∞—Ö–∞–º. –≠—Ç–æ –ø—É—Ç—å –æ—Ç —Å–∞–º–æ–æ—Ç–≤–µ—Ä–∂–µ–Ω–∏—è –∫ —Å–∞–º–æ–ø—Ä–∏–Ω—è—Ç–∏—é.",

    'North_node': "–°–µ–≤–µ—Ä–Ω—ã–π —É–∑–µ–ª –≤ {sign} {dignity}—É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞—à–µ–π –∫–∞—Ä–º–∏—á–µ—Å–∫–æ–π —ç–≤–æ–ª—é—Ü–∏–∏, —Ü–µ–ª—å, –∫ –∫–æ—Ç–æ—Ä–æ–π –∑–æ–≤—ë—Ç —Å—É–¥—å–±–∞. –ó–¥–µ—Å—å –≤—ã –¥–æ–ª–∂–Ω—ã —Å—Ç–∞—Ç—å –Ω–æ–≤—ã–º, –ø—Ä–µ–æ–¥–æ–ª–µ–≤ —Å—Ç–∞—Ä—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã. –°–µ–≤–µ—Ä–Ω—ã–π —É–∑–µ–ª —É—á–∏—Ç –≤–∞—Å —Ä–æ—Å—Ç—É —á–µ—Ä–µ–∑ —Å—Ç—Ä–∞—Ö, —Ä–∞–∑–≤–∏—Ç–∏—é —á–µ—Ä–µ–∑ –≤—ã–∑–æ–≤—ã. –í–∞—à–∞ –º–∏—Å—Å–∏—è ‚Äî —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è, —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è –ª—É—á—à–µ –≤–µ—Ä—Å–∏–µ–π —Å–µ–±—è, –ø–æ–º–æ–≥–∞—è —ç—Ç–∏–º –¥—Ä—É–≥–∏–º. –≠—Ç–æ –ø—É—Ç—å –æ—Ç –∫–æ–º—Ñ–æ—Ä—Ç–∞ –∫ –≤–µ–ª–∏—á–∏—é.",

    'South_node': "–Æ–∂–Ω—ã–π —É–∑–µ–ª –≤ {sign} {dignity}–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∞—à–µ –∫–∞—Ä–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ—à–ª–æ–µ, –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ —Ç–∞–ª–∞–Ω—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è. –ó–¥–µ—Å—å –ª–µ–∂–∏—Ç –≤—Å—è –º—É–¥—Ä–æ—Å—Ç—å –≤–∞—à–∏—Ö –ø—Ä–æ—à–ª—ã—Ö –≤–æ–ø–ª–æ—â–µ–Ω–∏–π, –Ω–æ —Ç–∞–∫–∂–µ –ª–æ–≤—É—à–∫–∞. –Æ–∂–Ω—ã–π —É–∑–µ–ª —É—á–∏—Ç –≤–∞—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞—Ä—ã, –Ω–æ –Ω–µ –∑–∞—Å—Ç—Ä–µ–≤–∞—Ç—å –≤ –Ω–∏—Ö. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî —Ç—Ä–∞–Ω—Å–º—É—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—à–ª–æ–µ, –Ω–µ –∑–∞–±—ã–≤–∞—è –µ–≥–æ —É—Ä–æ–∫–æ–≤. –≠—Ç–æ –ø—É—Ç—å –æ—Ç –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∫ —ç–≤–æ–ª—é—Ü–∏–∏.",
}

def get_dignity_text(planet_key, sign_key):
    """–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –¥–æ—Å—Ç–æ–∏–Ω—Å—Ç–≤–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç"""
    planet = PLANETS[planet_key]
    
    if sign_key in planet['obitel']:
        return "‚Äî –≤ –æ–±–∏—Ç–µ–ª–∏ (—Ä–æ–¥–Ω–æ–º –¥–æ–º–µ) ‚Äî "
    elif sign_key in planet['exalt']:
        return "‚Äî –≤ —ç–∫–∑–∞–ª—å—Ç–∞—Ü–∏–∏ (—É—Å–∏–ª–µ–Ω–∏–∏) ‚Äî "
    elif sign_key in planet['detrim']:
        return "‚Äî –≤ –∏–∑–≥–Ω–∞–Ω–∏–∏ (–æ—Å–ª–∞–±–ª–µ–Ω–∏–∏) ‚Äî "
    elif sign_key in planet['fall']:
        return "‚Äî –≤ –ø–∞–¥–µ–Ω–∏–∏ (–∫—Ä–∏–∑–∏—Å–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏) ‚Äî "
    return "‚Äî "

def generate_text(planet_key, sign_key):
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –¥–ª—è –ø–ª–∞–Ω–µ—Ç—ã –≤ –∑–Ω–∞–∫–µ"""
    planet = PLANETS[planet_key]
    sign = SIGNS[sign_key]
    dignity_text = get_dignity_text(planet_key, sign_key)
    
    template = TEMPLATES.get(planet_key, "")
    if not template:
        return f"{planet['ru']} –≤ {sign['ru']} ‚Äî –º–∏—Å—Ç–∏—á–µ—Å–∫–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –∫–æ—Å–º–∏—á–µ—Å–∫–∏—Ö —Å–∏–ª."
    
    text = template.format(sign=sign['ru'], dignity=dignity_text)
    return text

def main():
    # –ó–∞–≥—Ä—É–∂–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π JSON
    with open('/opt/natal_chart/texts.json', 'r', encoding='utf-8') as f:
        data = json.load(f)
    
    print("üåô –ì–µ–Ω–µ—Ä–∏—Ä—É—é –º–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è (—Å—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å)...\n")
    
    # –û–±–Ω–æ–≤–ª—è–µ–º –ü–ª–∞–Ω–µ—Ç—ã –≤ –∑–Ω–∞–∫–∞—Ö
    count = 0
    for planet_key in ['Sun', 'Moon', 'Mercury', 'Venus', 'Mars', 'Jupiter', 'Saturn', 'Uranus', 'Neptune', 'Pluto', 'Lilith', 'North_node', 'South_node']:
        if planet_key not in data['signs']:
            data['signs'][planet_key] = {}
        
        for sign_key in ['Ari', 'Tau', 'Gem', 'Cnc', 'Leo', 'Vir', 'Lib', 'Sco', 'Sag', 'Cap', 'Aqu', 'Pis']:
            if sign_key not in data['signs'][planet_key]:
                data['signs'][planet_key][sign_key] = {}
            
            # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –±–∞–∑–æ–≤—ã–π —Ç–µ–∫—Å—Ç
            base_text = generate_text(planet_key, sign_key)
            
            # general –≤–µ—Ä—Å–∏—è
            data['signs'][planet_key][sign_key]['general'] = base_text
            
            # male –≤–µ—Ä—Å–∏—è (–Ω–µ–º–Ω–æ–≥–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
            data['signs'][planet_key][sign_key]['male'] = f"(–ú—É–∂—Å–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ) {base_text}\n\n–î–ª—è –≤–∞—Å —ç—Ç–∞ –ø–æ–∑–∏—Ü–∏—è —É—Å–∏–ª–∏–≤–∞–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ–µ –Ω–∞—á–∞–ª–æ, —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –∏ –ø—Ä–æ—è–≤–ª—è—Ç—å—Å—è –≤ –º–∏—Ä—É —á–µ—Ä–µ–∑ —Å–æ–∑–∏–¥–∞–Ω–∏–µ –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è. –ú—É–∂—Å–∫–∞—è —ç–Ω–µ—Ä–≥–∏—è –∑–¥–µ—Å—å –ø–æ–º–æ–≥–∞–µ—Ç –≤–∞–º –±—ã—Ç—å –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–Ω—ã–º, —Ä–µ—à–∏—Ç–µ–ª—å–Ω—ã–º, –±—Ä–∞—Ç—å –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ —Å–≤–æ—é —Å—É–¥—å–±—É."
            
            # female –≤–µ—Ä—Å–∏—è (–Ω–µ–º–Ω–æ–≥–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è)
            data['signs'][planet_key][sign_key]['female'] = f"(–ñ–µ–Ω—Å–∫–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ) {base_text}\n\n–î–ª—è –≤–∞—Å —ç—Ç–∞ –ø–æ–∑–∏—Ü–∏—è —É—Å–∏–ª–∏–≤–∞–µ—Ç –≤–æ—Å–ø—Ä–∏–∏–º—á–∏–≤–æ—Å—Ç—å, –∏–Ω—Ç—É–∏—Ü–∏—é, —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –ø—Ä–∏–≤–ª–µ–∫–∞—Ç—å –∏ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —ç–Ω–µ—Ä–≥–∏—é. –ñ–µ–Ω—Å–∫–æ–µ –Ω–∞—á–∞–ª–æ –∑–¥–µ—Å—å –ø–æ–º–æ–≥–∞–µ—Ç –≤–∞–º –±—ã—Ç—å –æ—Ç–∫—Ä—ã—Ç–æ–π, –º–∞–≥–Ω–µ—Ç–∏—á–Ω–æ–π, –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ –≥–∞—Ä–º–æ–Ω–∏–∏ —Å —Ä–∏—Ç–º–∞–º–∏ –∂–∏–∑–Ω–∏."
            
            count += 1
            if count % 30 == 0:
                print(f"‚úì –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ {count}/156 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –ø–ª–∞–Ω–µ—Ç –∏ –∑–Ω–∞–∫–æ–≤")
    
    print(f"\n‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω–∞: {count} –±–ª–æ–∫–æ–≤ √ó 3 –≤–∞—Ä–∏–∞–Ω—Ç–∞ = {count*3} —Ç–µ–∫—Å—Ç–æ–≤")
    
    # –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π JSON
    with open('/opt/natal_chart/texts.json', 'w', encoding='utf-8') as f:
        json.dump(data, f, ensure_ascii=False, indent=2)
    
    print("üíæ –§–∞–π–ª texts.json –æ–±–Ω–æ–≤–ª—ë–Ω —É—Å–ø–µ—à–Ω–æ!")

if __name__ == '__main__':
    main()
